{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Tartarus Smart Lock V2 Guides","text":"<p>Collection of guides for the Tartarus lock ecosystem.</p>"},{"location":"building_the_lock/","title":"Building the Lock","text":""},{"location":"building_the_lock/#bill-of-materials","title":"Bill of Materials","text":"<p>In order to build the lock you will need:</p>"},{"location":"building_the_lock/#mandatory-parts","title":"Mandatory parts","text":"<ul> <li>Adafruit ESP32-S3 Reverse TFT Feather - 4MB Flash, 2MB PSRAM, STEMMA QT. If you want an \"official\" build + badge on the coordinator, you'll need to order one from subjugated.club. Homebrew versions are totally welcome and don't limit your features.</li> <li>STEMMA QT / Qwiic JST SH 4-Pin Cable - 50mm Long</li> <li>Tiny Code Reader from Useful Sensors</li> <li>Micro servo - TowerPro SG92R - You can also use any generic SG90/SG92 form factor servo.</li> <li>7x Socket Head Cap Screw: M2-0.4 Thread Size, 8 mm Lg, Std, Black Oxide, Steel, Class 12.9, 100 PK</li> <li>7x Hex Nut: M2-0.40 Thread, 4 mm Hex Wd, 1.6 mm Hex Ht, Steel, Class 8, Zinc Plated, 100 PK</li> <li>3x Female-to-male jumper wires - Shorter the better.</li> <li>Adhesive. Hot glue if you want some margin of error, superglue if you want a more \"secure\" experience.</li> </ul>"},{"location":"building_the_lock/#optional-but-good-to-have","title":"Optional, but good to have","text":"<ul> <li>Loctite Threadlocker Blue</li> <li>Tiny cable tie</li> </ul>"},{"location":"building_the_lock/#tools","title":"Tools","text":"<ul> <li>Soldering iron</li> <li>Technical screwdriver</li> </ul>"},{"location":"building_the_lock/#3d-files","title":"3D Files","text":"<p>You can get the full kit of parts here: Full kit</p> <p>I personally use Prusa slicer + the Prusa MINI+ for most builds. I use organic supports, 15% infill, and the 0.20mm SPEED profile. Feel free to adjust as necessary. I recommend printing with PLA.</p>"},{"location":"building_the_lock/#assembly","title":"Assembly","text":""},{"location":"building_the_lock/#step-1-print-the-parts","title":"Step 1: Print the parts","text":""},{"location":"building_the_lock/#step-2-solder-headers-to-esp32-s3","title":"Step 2: Solder headers to ESP32-S3","text":"<p>``</p> <p>Use a pair of pliers and break off 3 headers from the full strip that comes with the ESP32-S3.</p> <p>You'll solder these headers (short-side through top) across 3V3, GND, and A0. See picture.</p>"},{"location":"building_the_lock/#step-3-flash-the-firmware","title":"Step 3: Flash the firmware","text":"<p>`</p> <p>Hold down D0 and press Reset. Flash the firmware with <code>espflash flash</code>. Manually reset it once. You should see the boot screen.</p> <p>We need the firmware to calibrate the servo so we can mount the horn.</p>"},{"location":"building_the_lock/#step-3-assemble-servo-bracket","title":"Step 3: Assemble servo bracket","text":"<ul> <li>2x 2mm screws</li> <li>2x hex nuts</li> <li>1x mounting bracket</li> <li>1x SG92 servo (with single-ended horn, and small screw that came with it) </li> </ul> <p>`</p>"},{"location":"building_the_lock/#step-5-wire-servo-to-esp32-s3","title":"Step 5: Wire servo to ESP32-S3.","text":"<ul> <li>3x jumper wires</li> </ul> <p>`</p> <p>Unfortunately, the board layout is 3V3, GND, A0 and the servo's wiring is GND, 3V3, Signal. Use the jumper wires to connect the servo the board headers but swap the power and ground.</p> <p>Connect USB power to the ESP32-S3 and you will probably hear a quick buzz. The servo is now in the \"down\" angle position so we can mount the horn.</p>"},{"location":"building_the_lock/#step-6-mount-the-horn","title":"Step 6: Mount the horn","text":"<p>`</p> <p>Mount the horn at 6 as if it were a clock. Connect power back to the ESP32-S3 and make sure the servo starts at 6. Toggle the lock on the second screen (by pressing D1, the middle button). It should freely rotate to a 3 o'clock position and back. If it does, use the small-sized screw and mount the horn permanently. Try not to rotate the horn while tightening.</p>"},{"location":"building_the_lock/#step-7-mount-esp32-s3-to-lid","title":"Step 7: Mount ESP32-S3 to lid","text":"<ul> <li>4x bolts</li> <li>4x nuts</li> </ul> <p>`</p> <p>`</p> <p>`</p> <p>`</p> <p>Use a pair of tweezers (or similar) to remove the small section where the headers will fit from the underside of the 3D print.</p> <p>Attach all the bolts and nuts. Use the thread locker to make sure they don't loosen. Also makes sure that subs can't just open it by shaking :-).</p>"},{"location":"building_the_lock/#step-8-wire-and-mount-code-reader","title":"Step 8: Wire and mount code reader","text":"<ul> <li>Tiny code reader</li> <li>Stemma QT cable</li> <li>1 bolt</li> <li>1 nut</li> <li>2 spacers from 3D print</li> </ul> <p>`</p> <p>`</p> <p>`</p> <p>Connect the tiny code reader with the stemma QT cable to the main board.</p> <p>Mount the tiny code reader with the bolt + nut.</p> <p>I use 2 \"spacers\" to secure the code reader in place because it only has the one screw mount hole. I use a tiny amount of activator on the board and superglue the spacers above and below the reader. See pic.</p>"},{"location":"building_the_lock/#step-9-test-and-then-make-wire-connections-permanent","title":"Step 9: Test and then make wire connections permanent","text":"<p>Plug it in and cycle the lock. Try and scan a wifi code and make sure it connects. When you're satisfied it's all working make the connections permanent with your adhesive of choice.</p>"},{"location":"building_the_lock/#step-10-mount-servo-to-main-body","title":"Step 10: Mount servo to main body","text":"<p>`</p>"},{"location":"building_the_lock/#step-11-mount-technical-lid-to-main-body","title":"Step 11: Mount technical lid to main body","text":"<p>`</p> <p>I use a tiny cable tie to make this a little easier and a little more organized.</p> <p>Use your adhesive to secure the front lid to the body.</p> <p>`</p>"},{"location":"building_the_lock/#step-12-seal-top","title":"Step 12: Seal top","text":"<p>`</p> <p>`</p> <p>I use superglue on the left sill, the right sill, and a tiny bit across the front where all the technical parts are mounted. If you're using hot glue be sure wherever you apply it doesn't interfere with the tray sliding in and out.</p> <p>In order to get the best seal I recommend leaving a heavy weight on it while it cures. I have a tupperware full of change for this. Give it an hour or two.</p>"},{"location":"building_the_lock/#done","title":"Done!","text":"<p>`</p>"}]}